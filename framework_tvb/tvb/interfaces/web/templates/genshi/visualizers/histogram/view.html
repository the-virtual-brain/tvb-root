<div>
    <script type="text/javascript" src="/static/flot/jquery.flot.js"></script>
    <script type="text/javascript" src="/static/flot/jquery.flot.stack.js"></script>
    <script type="text/javascript" src="/static_view/histogram/histogram.js?$currentVersionJS" ></script>
    <script type="text/javascript" src="/static/colorScheme/js/colorSchemeComponent.js?$currentVersionJS"></script>
    <script type="text/javascript" src="http://html2canvas.hertzen.com/build/html2canvas.js"></script>

    <link type="text/css" rel="stylesheet" href="/static/style/section_visualisers.css?$currentVersionJS"/>

    <script type="text/javascript">
        $(document).ready(function() {
            ColSch_initColorSchemeComponent();
            drawHistogram('histogramCanvasId', ${data}, ${labels}, ${colors}, '${xposition}');
            ColSch_initColorSchemeParams(${minColor}, ${maxColor}, changeColors);
            $(window).resize(function() {
                clearTimeout(this.resizingTimeout);
                this.resizingTimeout = setTimeout(function() {      // set timeout so it's only resized on finish
                    drawHistogram('histogramCanvasId', ${data}, ${labels}, ${colors}, '${xposition}');
                    _drawHistogramLegend();
                }, 250)
            })
        });
        
        function launchViewer(width, height) {
        	document.getElementById('histogramCanvasId').style.width = (width * 0.9) + 'px';
        	document.getElementById('histogramCanvasId').style.height = (height * 0.7) + 'px';
        	drawHistogram('histogramCanvasId', ${data}, ${labels}, ${colors}, '${xposition}');
        }
    </script>

    <div class="histogramParentDiv">
        <div id="histogramCanvasId"/>
        <div id="histogramLegend">
            <canvas id="histogramLegendCanvas" width="20px"/>
            <table id="histogramLegendLabels" />
        </div>
    </div>

    <input type="hidden" id="colorMinId" value="${minColor}"/>
    <input type="hidden" id="colorMaxId" value="${maxColor}"/>
    <input type="hidden" id="originalColors" value="${colors}"/>
    
</div>

